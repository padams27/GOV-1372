---
title: "Personality and Worldview"
author: "Paddy Adams"
date: "October 7, 2021"
output: pdf_document
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(readr) # read_csv
library(ggplot2) # ggplot
library(tidyr)
library(gridExtra) # grid.arrange
library(psych) #fa.parallel
library(gt)
library(ggcorrplot)
library(broom)

```

# Measuring Personality

Carney et al. (2009) use several strategies to assess personality in their investigation of the link between personality and political ideology. This week's assignment will help you understand aspects of these methodologies and associated challenges.

The survey you took included two different short versions of the Big Five Inventory. You will have the chance to compare these two inventories and to get some experience with the Personal Living Space Cue Inventory (PLSCI) ([Gosling et al. 2005](http://gosling.psy.utexas.edu/wp-content/uploads/2014/09/EnvandBehav05GoslingetalPLSCI.pdf)), which was also used in Carney et al. (2009). 

**Data Details:**

* File Name: \texttt{Oct7ClassData.csv}

* Source: These data are from the survey you took in class. You took the BFI-10, a short version of the Big Five Inventory ([Rammstedt and John 2007](https://psycnet.apa.org/record/2007-02371-015)) and the Ten-Item Personality Inventory (TIPI), which is a different instrument designed to quickly meausre the Big Five ([Gosling et al. 2003](http://gosling.psy.utexas.edu/wp-content/uploads/2014/09/JRP-03-tipi.pdf)). You then answered the same questions used by Carney et al. (2009) to assess political attitudes in some of their studies.

Variable Name         | Variable Description
--------------------- | --------------------------------------
\texttt{Overall}         | Self-reported overall ideology on a 1-5 scale with 1 being extremely liberal and 5 being extremely conservative
\texttt{Social}       | Self-reported social ideology on a 1-5 scale with 1 being extremely liberal and 5 being extremely conservative
\texttt{Economic}    | Self-reported economic ideology on a 1-5 scale with 1 being extremely liberal and 5 being extremely conservative
\texttt{Random ID}| A randomly generated respondent identifier
\texttt{BFI\_extraversion}        | The average of the two items on the BFI-10 associated with extraversion
\texttt{BFI\_agreeableness}    | The average of the two items on the BFI-10 associated with agreeableness
\texttt{BFI\_conscientiousness}| The average of the two items on the BFI-10 associated with conscientiousness
\texttt{BFI\_emot\_stability}| The average of the two items on the BFI-10 associated with emotional stability (also known as neuroticism, although low emotional stability is the same as high neuroticism)
\texttt{BFI\_openness} | The average of the two items on the BFI-10 associated with openness
\texttt{TIPI\_extraversion}| The average of the two items on the TIPI-10 associated with extraversion
\texttt{TIPI\_agreeableness}    | The average of the two items on the TIPI-10 associated with agreeableness
\texttt{TIPI\_conscientiousness}| The average of the two items on the TIPI-10 associated with conscientiousness
\texttt{TIPI\_emot\_stability}| The average of the two items on the TIPI-10 associated with emotional stability(also known as neuroticism)
\texttt{TIPI\_openness} | The average of the two items on the TIPI-10 associated with openness

The last 20 variables in the data are the actual items from the BFI-10 and the TIPI. If you want to refresh your memory about the questions and learn which questions were meant to go together, you can find more about the BFI-10 [here](https://www.ocf.berkeley.edu/~johnlab/bfi.htm) (scroll down to the "Is there a shorter version of the BFI available?" question) and the TIPI [here](http://gosling.psy.utexas.edu/scales-weve-developed/ten-item-personality-measure-tipi/ten-item-personality-inventory-tipi/).

Don't forget to load the data.

```{r faces, include=FALSE, message=FALSE}

personality_data <- read_csv('Oct7ClassData.csv')

```


The idea behind this weeks work was to analyze each others personal living space to establish a personality profile following the Personal Living Space Cue Inventory (PLSCI) (Gosling et al. 2005). From this causal inference we can then theoretically lean on other research that goes further and looks at how personality relates to political ideology, such as Carney et al. (2009). The end result we are looking for is that by analyzing images of our college rooms we can infer the owner's political ideology. 

We were able to analyze these correlations/causalities with the help of another class wide survey (which included IDs so we could match room photos to survey results) that included a self reported ideology, social and economic scale in the same way Carney did as well as two personality inventories: a short version of the Big Five Inventory (Rammstedt and John 2007), and the Ten Item Personality Test (TIPI) which is designed to quickly measure the big five. 

To begin with the PLSCI proved to be not a bad representative of the respondents personalities, even though it doesn't take into account SES and that we only had pictures to look at instead of visiting the rooms as it should be done (missing the last few data points). The inter-coder reliability of our group was very high and our results in turn matched up well with the original self-reported data, demonstrating that the test was reliable (at least in this instance). Another obvious issue with the test is that it is outdated when applied to modern college rooms, as students no longer posses CD's nor magazines and as such asking if 'the CD's were neatly stored' is a redundant question. 

When comparing the class TIPI results to the larger dataset produced by Gosling et al. I got these results:

```{r}

norms <- data.frame(All = c("Mean", "SD"),
                    E = c(4.44, 1.45),
                    A = c(5.23, 1.11),
                    C = c(5.40, 1.32),
                    ES = c(4.83, 1.42),
                    O = c(5.38, 1.07)) %>% 
  gt() %>% 
  tab_header(title = "Normative data for the TIPI: Self-reported data")


class_norms <- personality_data %>% 
  select(10:14) %>% 
  summarise_all(~ c(mean(.), sd(.))) %>% 
  round(., 2) %>% 
  rename(E = TIPI_extraversion,
         A = TIPI_agreeableness,
         C = TIPI_conscientiousness,
         ES = TIPI_emot_stability,
         O = TIPI_openness) %>% 
  mutate(All = c("Mean", "SD"), .before = "E") %>% 
  gt() %>% 
  tab_header(title = "Class Data for the TIPI") %>% 
  tab_options(table.width = pct(50))
  

norms
class_norms

```


These tables show that our class averages for the TIBI were very close to the averages of the Gosling et al. (2003) report that involved 1800 participants. The significant differences were a 0.29 increase in the mean of 'Extraversion', a 0.35 reduction in 'Agreeableness' and a 0.29 decrease in 'Emotional Stability'. I would suggest that this is due to the higher number of 'liberal' respondents that exist in a Harvard Gov class, as higher emotional stability, lower extraversion and lower agreeableness are all linked to the respondents being more conservative. This makes sense when we consider how the demographic of our class differs from even other college cohorts let alone the general population. 


Given the causal inference we are assuming in order to get from analyzing someones room to identifying their political ideology there is more chance we may compound errors. Therefore it is only normal to test just how reliable the data is in the intermediary steps, and the two personality tests provide a good example of this. If the theory behind the path of causation that we are following is correct then both tests should be giving very similar results and as such the measures of the five personality points should show a strong positive correlation:


```{r}

# five point scale 

cor_5 <- personality_data %>% 
  select(5:14) %>% 
  drop_na() %>% 
  cor() %>% 
  as.data.frame()

table <- cor_5 %>% 
  select(1:5) %>% 
  tail(5)

ggcorrplot(table, hc.order = TRUE, lab = TRUE, show.legend = FALSE)

```


It's pretty clear that there is a decent correlation amongst most of the points, however I would have expected to see them being stronger and up above the 0.8 mark as 'Extraversion' is. Of course, the result for 'Openness' is very low and raises some questions: this may be due to unreliable responses, for example misreading the prompt, or that the two scales produced very different results. The other three results show a strong similarity at 0.6, even if this isn't as strong as I would have expected. I think one of the most important reasons behind this that TIPI uses a seven point scale compared to BFI's five. This gives the BFI more consistent results, but also less accurate results.

By using a larger scale (strongly unfavourable, somewhat..., slightly..., neutral, etc) the self-reported results are more accurate but the results of the BFI are more similar. This means that when comparing the self-reported test to the room-based evaluation (PLSCI) done by peers we were able to achieve more similar results due to a smaller variation, and so in turn one could argue at this stage of the process the data is more accurate when inferring causality from PLSCI to personality. However this then flips when we look at how we deduce ideology from personality. To explore this I ran a regression on both the TIPI and BFI results to see how each point relate to overall self-reported ideology:


```{r}


personality_data %>% 
  lm(Overall ~ TIPI_extraversion + TIPI_agreeableness + TIPI_conscientiousness + TIPI_emot_stability + TIPI_openness, .) %>% 
  tidy() %>% 
  gt() %>% 
  fmt_number(columns = 2:5, decimals = 3)


personality_data %>% 
  lm(Overall ~ BFI_extraversion + BFI_agreeableness + BFI_conscientiousness + BFI_emot_stability + BFI_openness, .) %>% 
  tidy() %>% 
  gt() %>% 
  fmt_number(columns = 2:5, decimals = 3)


```


The TIPI test proved to be a far better test in this circumstance, with the only two statistically significant results from either. The two results from the TIPI test with a p-value below 0.05, 'Agreeableness' and 'Conscientiousness', show that they are the strongest indicators of political ideology, and support the differences we saw earlier in the skewed representation of ideology of a Harvard class when compared to the respondents of the Gosling et al. study. These two indicators were the best for predicting ideology, with higher conscientiousness causing greater chance of being more conservaitve and visa versa for agreeableness. 


















## Question 6
The BFI-10 and the TIPI are supposed to measure the same five personality traits. To what degree do they seem to be measuring the same constructs in our class sample? **Compare each BFI-10 index to its counterpart TIPI index. You can do this numerically by calculating the correlation coefficient, graphically with a plot, or both. Comment on what you find.**


```{r}

# with the 1 - 10 scale

x <- personality_data %>% 
  select(15:34) %>% 
  drop_na() %>% 
  cor()

ggcorrplot(x, 
           hc.order = FALSE, 
           type = "lower",
           outline.color = "white")

cor_plot <- tibble(x[1,11],
              x[2,12],
              x[3,13],
              x[4,14],
              x[5,15],
              x[6,16],
              x[7,17],
              x[8,18],
              x[9,19],
              x[10,20]) %>% 
  rename(., one = `x[1, 11]`, two = `x[2, 12]`, three = `x[3, 13]`, four = `x[4, 14]`, five = `x[5, 15]`, 
         six = `x[6, 16]`, seven = `x[7, 17]`, eight = `x[8, 18]`, nine = `x[9, 19]`, ten = `x[10, 20]`)

ggcorrplot(cor_plot)

```




## Question 7: Data Science Question
We are interested in whether personality is associated with political ideology. Multiple regression is one approach to simultaneously testing associations between several indepdendent variables and a single dependent variable of interest. **Pick one of the personality inventories and use all of the trait indices in a regression model with at least one of the political ideology questions as the dependent variable. Interpret the results. (Note that you can use OLS for this question, even though it might not be the most appropriate model. As a bonus, you can explain why OLS might not be the best model and suggest an alternative. As another bonus, take a look back at all of the regressions you have just run. Why might we be skeptical of any individual p-value associated with one of these regression coefficients?)** Non-data science students should consider tackling part of this question but only using bivariate regression (one political ideology dependnet variable and one personality independent variable.)

```{r}


personality_data %>% 
  lm(Overall ~ TIPI_extraversion + TIPI_agreeableness + TIPI_conscientiousness + TIPI_emot_stability + TIPI_openness, .) %>% 
  tidy() %>% 
  gt() %>% 
  fmt_number(columns = 2:5, decimals = 3)


personality_data %>% 
  lm(Overall ~ BFI_extraversion + BFI_agreeableness + BFI_conscientiousness + BFI_emot_stability + BFI_openness, .) %>% 
  tidy() %>% 
  gt() %>% 
  fmt_number(columns = 2:5, decimals = 3)


```



## Question 8: Data Science Question
Is the Big Five really best characterized as five factors? If we ask ten questions on a personality inventory, we might think that these questions actually reflect only five underlying (or latent) variables. In fact, this is the supposition of the BFI-10 and the TIPI. Factor analysis is one way to examine data and investigate if the dimension of the data can be reduced from many variables to fewer underlying factors.  **Conduct a factor analysis on either the BFI-10 or the TIPI questions (note, these are the numbered variables, not the named variables) You may want to use the \texttt{fa.parallel} function from the \texttt{psych} package, which you can read more about [here](https://cran.r-project.org/web/packages/psychTools/vignettes/factor.pdf). How many factors does your analysis suggest best explain the class data? Optional bonus: run the code several times. Does your answer change? If so, why?**


## Question 9
If you still have your random ID, take a look at your own BFI-10 and TIPI index scores for each factor. **How do your scores compare to one another across instruments? How do your ratings on each of the Big Five factors compare to your own self image? (Remember that the BFI-10 uses a five point scale while the TIPI uses a seven point scale.)**



